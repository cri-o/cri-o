---

- hosts: all
  remote_user: root
  vars_files:
    - crio-integration-vars.yaml
  pre_tasks:
    ## This playbook expects --extra-vars "commit=<commit>"
    ## and either --extra-vars "pullrequest=<PR #>" or
    ## --skip-tags pr
    - assert:
        that: 'commit is defined and commit | trim'
    - assert:
        that: 'pullrequest is defined and pullrequest | trim'
        tags:
          - pr
  roles:
    - integration_tests
